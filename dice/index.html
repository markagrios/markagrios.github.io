<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Merriweather+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
</head>
<body>

<canvas id="canvas_1" height="200" width="300">Canvas doesn't seem to be supported on your browser</canvas>
<p class="info">Mouse position: (<a id="coord"></a>)</p>
<p id="boxalert" class="info"></p>

<script>
//alert("This is a current project in progress, do not expect everything to work properly at this time.");
var canvas = document.getElementById('canvas_1');
var ctx = canvas.getContext('2d');
var click = false;

var xbox = Math.floor((Math.random() * 90) + 30);
var ybox = Math.floor((Math.random() * 90) + 30);
var width = Math.floor((Math.random() * 60) + 30);
var height = Math.floor((Math.random() * 60) + 30);

console.log(xbox +","+ ybox +","+ width +","+ height);
ctx.fillStyle = "#3F6263";
ctx.fillRect(xbox,ybox,width,height);


function displayCoord(canvas, event) {
	var rect = canvas.getBoundingClientRect();
	return {
        x: event.clientX - rect.left,
		y: event.clientY - rect.top	
	}
}

canvas.addEventListener('mousemove', function(event) {
	var mousePos = displayCoord(canvas, event);
	var message = mousePos.x + ',' + mousePos.y;
	//console.log(message);
	document.getElementById("coord").innerHTML = message;
	
	if(click == true) {
		if((mousePos.x > xbox) && (mousePos.x < xbox+width) && (mousePos.y > ybox) && (mousePos.y < ybox+height)) {
			document.getElementById("boxalert").innerHTML = "You're in the box!";
		} else {
			document.getElementById("boxalert").innerHTML = "";
		}
	} else {
		document.getElementById("boxalert").innerHTML = "";
	}
});

canvas.addEventListener('click', function(event) {	
	var mousePos = displayCoord(canvas, event);
	
	if(click == false) {
		copyAtLocation(mousePos.x,mousePos.y);
		//click = true;
	}
	
});

function copyAtLocation(x,y) {
	var imgData = ctx.getImageData(xbox,ybox,width,height);
	ctx.putImageData(imgData,x,y);
	console.log(x + "," + y);
}

</script>

</body>
</html>
